!function($){var detectAndroid=function(){var navU=window.navigator.userAgent,isAndroidMobile=navU.indexOf("Android")>-1&&navU.indexOf("Mozilla/5.0")>-1&&navU.indexOf("AppleWebKit")>-1,regExAppleWebKit=new RegExp(/AppleWebKit\/([\d.]+)/),resultAppleWebKitRegEx=regExAppleWebKit.exec(navU),appleWebKitVersion=null===resultAppleWebKitRegEx?null:parseFloat(regExAppleWebKit.exec(navU)[1]),isAndroidBrowser=isAndroidMobile&&null!==appleWebKitVersion&&537>appleWebKitVersion;return isAndroidBrowser},hasTextSelected=function($target){var _ref;return null!=$target.prop("selectionStart")&&$target.prop("selectionStart")!==$target.prop("selectionEnd")?!0:("undefined"!=typeof document&&null!==document&&null!=(_ref=document.selection)&&"function"==typeof _ref.createRange?_ref.createRange().text:void 0)?!0:!1},restrictNumeric=function(e){var $target,input;return $target=$(e.target),e.metaKey||e.ctrlKey?!0:32===e.which?!1:0===e.which?!0:e.which<33?!0:(input=String.fromCharCode(e.which),!!/[\d\s]/.test(input))},restrictPhoneNumber=function(e){var $target,digit,value;return $target=$(e.currentTarget),digit=String.fromCharCode(e.which),/^\d+$/.test(digit)&&!hasTextSelected($target)?(value=$target.val()+digit,value=value.replace(/\D/g,""),value.length>10?!1:void 0):void 0},reFormatPhoneNumber=function(phoneNumberString){var areaCode,first3,last4,phoneNumber,text,_ref;return phoneNumber=phoneNumberString.replace(/\D/g,"").match(/^(\d{0,3})?(\d{0,3})?(\d{0,4})?$/),_ref=phoneNumber,phoneNumber=_ref[0],areaCode=_ref[1],first3=_ref[2],last4=_ref[3],text="",null!=areaCode&&(text+="("+areaCode),3===(null!=areaCode?areaCode.length:void 0)&&(text+=") "),null!=first3&&(text+=""+first3),3===(null!=first3?first3.length:void 0)&&(text+=" - "),null!=last4&&(text+=""+last4),text},formatPhoneNumber=function(e){var $target,digit,text,val;if(digit=String.fromCharCode(e.which),/^\d+$/.test(digit)){$target=$(e.currentTarget),val=$target.val()+digit;try{text=reFormatPhoneNumber(val)}catch(error){return}return e.preventDefault(),$target.val(text)}},formatBackPhoneNumber=function(e){var $target,value;if(!e.meta&&($target=$(e.currentTarget),value=$target.val(),8===e.which&&(null==$target.prop("selectionStart")||$target.prop("selectionStart")===value.length)))return/\(\d$/.test(value)?(e.preventDefault(),$target.val("")):/\d\)(\s)+$/.test(value)?(e.preventDefault(),$target.val(value.replace(/\d\)(\s)*$/,""))):/\d(\s|\-)+$/.test(value)?(e.preventDefault(),$target.val(value.replace(/\d(\s|\-)+$/,""))):void 0},formatPastePhoneNumber=function(e){return setTimeout(function(){var $target,text,val;return $target=$(e.currentTarget),val=$target.val(),text=reFormatPhoneNumber(val),$target.val(text)})},applyAndroidHacks=function(){$("input.phone_number").css("-webkit-user-modify","read-write").css("outline-style","none").css("-webkit-tap-highlight-color","rgba(0,0,0,0)")},phoneinput=function($elem){$elem.on("keypress",restrictNumeric),$elem.on("keypress",restrictPhoneNumber),$elem.on("keypress",formatPhoneNumber),$elem.on("keydown",formatBackPhoneNumber),$elem.on("paste",formatPastePhoneNumber),detectAndroid()&&applyAndroidHacks()};window.phoneinput=phoneinput}(jQuery);
//# sourceMappingURL=phoneinput.min.js.map